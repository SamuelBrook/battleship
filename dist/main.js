(()=>{"use strict";const t=class{sunk=!1;hits=0;constructor(t){this.shipLength=t}hasSunk(){this.hits===this.shipLength&&(this.sunk=!0)}},e=class{shipArray=[];shipCoordinatesCreated=[];placedShipLocations=[];constructor(t){this.shipCoordinates=t}callShips(){const e=[new t(4),new t(3),new t(3),new t(2),new t(2),new t(2),new t(1),new t(1),new t(1),new t(1)];this.shipArray=e}createRandomShipCoordinates(){const t=[],e=this.shipArray;function s(s){let o=[],h=[];const i=[],a=Math.floor(2*Math.random()),n=e[s].shipLength;if(0===a){o=Math.floor(Math.random()*(10-(n-1))),h=Math.floor(10*Math.random()+1);for(let t=0;t<n;t+=1)i.push([o+t,h])}else{h=Math.floor(Math.random()*(10-(n-1))),o=Math.floor(10*Math.random()+1);for(let t=0;t<n;t+=1)i.push([o,h+t])}t.push(i)}for(let t=0;t<this.shipArray.length;t+=1)s(t);this.shipCoordinatesCreated=t}placeShips(t){if(t)for(let e=0;e<this.shipArray.length;e+=1){const{shipLength:s}=this.shipArray[e],o=[t[e][0]];for(let h=1;h<=s;h+=1)o.push(t[e][0]+h);const h=[o,[t[e][1]]];this.placedShipLocations.push(h)}else this.placedShipLocations=this.shipCoordinatesCreated}attackReceived(t){let e=!1,s=!1,o=!1;for(let h=0;h<this.placedShipLocations.length;h+=1){for(let s=0;s<this.placedShipLocations[h].length;s+=1)t[0]===this.placedShipLocations[h][s][0]&&(e=!0);for(let e=0;e<this.placedShipLocations[h].length;e+=1)t[1]===this.placedShipLocations[h][e][1]&&(s=!0);e&&s&&(this.shipArray[h].hits+=1,this.shipArray[h].hasSunk(),o=!0)}return o}allShipsSunk(){let t=0;for(let e=0;e<this.shipArray.length;e+=1)!0===this.shipArray[e].sunk&&(t+=1);return t===this.shipArray.length}},s=class{shotArray=[0,0];makeShot(t){return t?this.shotArray.includes(t)?void 0:(this.shotArray.push(t),t):function(t){const e=[Math.floor(10*Math.random())+1,Math.floor(10*Math.random())+1];if(!t.includes(e))return e;this.autoshot()}(this.shotArray)}};(()=>{document.querySelectorAll(".board").forEach((t=>{for(let e=1;e<=100;e+=1){const s=document.createElement("div");let o=`${e} 1`;e>10&&e<=20?o=e-10+" 2":e>20&&e<=30?o=e-20+" 3":e>30&&e<=40?o=e-30+" 4":e>40&&e<=50?o=e-40+" 5":e>50&&e<=60?o=e-50+" 6":e>60&&e<=70?o=e-60+" 7":e>70&&e<=80?o=e-70+" 8":e>80&&e<=90?o=e-80+" 9":e>90&&e<=100&&(o=e-90+" 10"),s.id=o,s.classList.add("coordinate"),t.appendChild(s)}}));const t=new e,o=new e,h=new s;new s,t.callShips(),o.callShips(),t.createRandomShipCoordinates(),o.createRandomShipCoordinates(),t.placeShips(),o.placeShips(),((t,e)=>{const s=document.querySelector("#player-board"),o=document.querySelector("#enemy-board");function h(t,e){e.childNodes.forEach((e=>{for(let s=0;s<t.placedShipLocations.length;s+=1)for(let o=0;o<t.placedShipLocations[s].length;o+=1){const h=t.placedShipLocations[s][o].join(" ");e.id===h&&e.classList.add("ship")}}))}h(t,s),h(e,o)})(t,o),document.querySelector("#enemy-board").addEventListener("click",(t=>{const{target:e}=t,s=e.id,i=s.split(" ").map((t=>parseInt(t,10)));console.log(i),console.log(o.placedShipLocations),h.makeShot(i);const a=o.attackReceived(i);var n;console.log(a),!0===a&&(n=s,document.querySelector("#enemy-board").childNodes.forEach((t=>{n===t.id&&t.classList.add("hit")})))}))})()})();